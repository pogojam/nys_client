{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Children } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nconst QUERY = gql`\n  query {\n    getUser {\n      firstName\n      lastName\n      email\n      homePhone\n      workPhone\n      players {\n        id\n        name\n      }\n      role\n    }\n  }\n`;\n\nconst withAuth = (AuthComponent, redirect) => ({\n  children\n}) => {\n  const {\n    client,\n    loading,\n    data,\n    err\n  } = useQuery(QUERY);\n  if (loading) return \"loading...\";\n  if (err) return err;\n  const user = data.getUser ? data.getUser : null;\n\n  if (redirect && !user) {\n    return redirect;\n  } else {\n    return __jsx(AuthComponent, {\n      client: client,\n      children: children,\n      user: user\n    });\n  }\n};\n\nexport default withAuth;","map":null,"metadata":{},"sourceType":"module"}